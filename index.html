<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZenTrades Login</title>
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="./css/login.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    
</head>
<body class="bg-dark">
    <section class="container-fluid">
        <form class="mx-auto">

            <div class="text-center">
                <img src="./docs/assets/images/login.png" class="img-fluid" alt="Responsive image">
            </div>
            <div class="form-group mb-4 mt-5">
              <input type="email" class="form-control" id="UserName" aria-describedby="emailHelp" placeholder="Username" onkeyup="validateUsername()" required>
              <span id="username-error"></span>
            </div>

            <div class="form-group mb-4">
              <input type="password" class="form-control" id="Password" name="Password" placeholder="Password" onkeyup="validatePassword()" required>
              <span id="password-error"></span>
            </div>

             <div class="text-center">
                <button type="submit" id="login-button" class="btn login-button text-center mb-3">Login</button>
                <a id="forgotpass" class="forgotpass" href="mailto:support@smartserv.io?subject=Forgot%20Password&body=Please%20reset%20my%20password"><u>Forgot your Password?</u></a>

                

            </div>
           
          </form>

    </section>
  
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    
    <script>
      var user = document.querySelector("#UserName");
      var validuser = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;
      var userError = document.querySelector("#username-error");
function validateUsername(){
    if(!user.value.match(validuser)){
     userError.innerHTML = "Please enter a valid email address";
     user.style.border = "1px solid red";
     return false;
   }
     userError.innerHTML = "";
     user.style.border = "none"
     return true;
 }

      var pass = document.querySelector("#Password");
      var passError = document.querySelector("#password-error");
      // var validpass= /^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*@)(?!.*\W)(?!.* ).{8,}$/
      var invalidLetters = /[^A-Za-z0-9@]/;
      var isCapitalLetterPresent = /[A-Z]/;
      var isDigitPresent = /[0-9]/;


      function validatePassword(){
         if(pass.value.match(invalidLetters) || !pass.value.match(isCapitalLetterPresent) || !pass.value.match(isDigitPresent)){
          passError.innerHTML = "Please enter a valid password";
          pass.style.border = "1px solid red";
          return false;
        }
          passError.innerHTML = "";
          pass.style.border = "none"
          return true;
        
          
      }
document.querySelector("#login-button").addEventListener('click', function() {
        event.preventDefault();
        confirmPassword();
   
    });

    function confirmPassword(){
        var enteredPassword = document.querySelector("#Password").value;

            var allowedPassword = 'SmartServTest@123';

            if (enteredPassword === allowedPassword) {
                location.href="./html/dashboard.html";
            } else {
                alert('Error: Incorrect password. Please try again.');
            }
    }
    </script>
</body>
</html>